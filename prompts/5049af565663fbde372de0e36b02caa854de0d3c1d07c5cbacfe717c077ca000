---
description: Record development checkpoints, decisions and insights
category: command
---

# Journal 检查点记录

## 描述

记录开发过程中的关键转变、重要决策和核心洞察。用于保留上下文，避免重复踩坑。

## 何时调用

- 完成一个重要阶段或里程碑
- 遇到关键技术决策点
- 发现重要洞察或踩坑后
- 方向发生转变时
- 用户主动要求记录时

## 执行步骤

### 1. 回顾当前状态

思考以下问题：
- 这段时间做了什么？
- 遇到了什么问题？
- 做了什么决策？为什么？
- 有什么关键发现？

### 2. 确定记录类型和序号

**命名格式**：`NNN_类型_描述.md`

- `NNN`：三位递增序号（001, 002, 003...），确保时间顺序
- 类型前缀：`pitfall_`（踩坑）、`phase_`（阶段）、`decision_`（决策）、`insight_`（洞察）

| 类型 | 适用场景 | 文件命名示例 |
|------|----------|--------------|
| 踩坑记录 | 遇到问题并解决 | `003_pitfall_cell_width.md` |
| 阶段总结 | 完成一个阶段 | `002_phase_unicode_complete.md` |
| 决策记录 | 重要技术/方向决策 | `005_decision_layout_first.md` |
| 洞察记录 | 发现关键洞察 | `004_insight_terminal_model.md` |

### 3. 写入 journal

文件位置：`.prompts/journal/`

**获取下一个序号**：查看目录中最大的序号，+1 即可。

根据类型选择格式：

**踩坑记录格式**：
```markdown
# 标题

**日期**：YYYY-MM-DD

## 问题
遇到了什么问题？什么场景下？

## 失败的尝试
尝试过哪些方案？为什么失败？

## 解决方案
最终怎么解决的？

## 关键洞察
从中学到了什么？
```

**阶段/决策/洞察格式**：
```markdown
# 标题

**日期**：YYYY-MM-DD
**状态**：进行中 / 已完成 / 待解决

## 背景
为什么会有这个记录？

## 核心内容
关键点是什么？

## 后续
下一步是什么？
```

### 4. 更新相关文档（如需要）

- 如果影响项目目标：更新 `context/OVERVIEW.md`
- 如果影响架构理解：更新 `context/ARCHITECTURE.md`

## 注意事项

- **记录关键点，不是流水账**
- **关注"为什么"，不只是"做了什么"**
- **包含失败的尝试**，这是最有价值的经验
- **简洁但完整**，未来的自己能看懂
