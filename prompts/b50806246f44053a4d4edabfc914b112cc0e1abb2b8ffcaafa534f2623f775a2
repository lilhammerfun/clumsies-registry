# 学习进度追踪 (PROGRESS)

> 本文件用于追踪具体的学习进度、Sprint 状态及积压任务。
> 最后更新日期：2025-12-23

## 🟢 当前状态 (Current Focus)

**主题**：Zeam 源码深度分析 & ETH 共识协议理解
**目标**：通过阅读 Zeam 源码，同时掌握 ETH 共识层协议设计 + Zig 工程实践

### 🎯 第二阶段核心 KPI

> **真刀真枪的实践：给 Zeam 提 PR**

学习不是目的，贡献才是。随着源码理解的深入，我们要：
1. 发现代码中可改进的地方（bug、性能、文档、测试）
2. 提出并实现改进方案
3. 向 Zeam 仓库提交 Pull Request

| PR 类型 | 示例 | 难度 |
|---------|------|------|
| 文档改进 | README 补充、注释完善 | ⭐ |
| Bug 修复 | 边界条件、错误处理 | ⭐⭐ |
| 测试补充 | 单元测试、边界测试 | ⭐⭐ |
| 功能增强 | 新特性、性能优化 | ⭐⭐⭐ |

**PR 记录**：（随学习进度更新）
- [x] [#454](https://github.com/blockblaz/zeam/pull/454) - 文档：添加代理环境变量导致构建失败的 troubleshooting（⏳ 等待 review）

---

## 📅 学习路线图

> **总体方向**：跟随区块生命周期，从节点启动到 ZK 证明，最终目标是深入 zkVM 集成。

```
节点启动 → 区块接收 → 签名验证 → STF执行 → Fork Choice → 存储 → 广播
                                                              ↓
                                                         ZK 证明集成
```

---

## 🏃 当前 Sprint

### Sprint 5: 节点启动流程

**目标**：理解 Zeam 节点如何从命令行启动到完成初始化

| 优先级 | 任务 | 源码位置 | 状态 | 笔记 |
|:------:|------|----------|:----:|------|
| P0 | CLI 命令解析 | `cli/src/main.zig` | 待开始 | |
| P0 | 配置加载机制 | `configs/src/lib.zig` | 待开始 | |
| P1 | BeamNode 初始化 | `node/src/node.zig` | 待开始 | |
| P1 | Clock 时钟服务 | `node/src/clock.zig` | 待开始 | |
| P2 | 创世状态生成 | `types/src/state.zig:genGenesisState` | 待开始 | |

**发现的 PR 机会**：（随学习更新）
- [ ] fixtures/README.md Quick Start 流程不完整：缺少 `annotated_validators.yaml` 的创建步骤（需先搞清楚原理）

---

## 📋 Sprint Backlog

按优先级排列的待办任务池，每个 Sprint 从这里挑选：

### 主线任务（区块生命周期）

| 主题 | 关键源码 | 依赖 |
|------|----------|------|
| 网络层：P2P 通信 | `network/src/lib.zig` | Sprint 5 |
| 签名验证：XMSS | `xmss/src/hashsig.zig` | Sprint 5 |
| Fork Choice 规则 | `node/src/forkchoice.zig` | 网络层 |
| 数据库存储 | `database/src/lib.zig` | Fork Choice |
| 区块广播 | `network/` | 数据库 |

### 终极目标（ZK 证明）

| 主题 | 关键源码 | 依赖 |
|------|----------|------|
| state-proving-manager | `state-proving-manager/src/manager.zig` | 主线完成 |
| zkVM 适配层 | `state-transition-runtime/` | proving-manager |
| RISC0 集成 | `rust/risc0/` | zkVM 适配 |
| OpenVM 集成 | `rust/openvm/` | zkVM 适配 |

### 支线深挖（按需触发）

| 主题 | 触发条件 | 深度 |
|------|----------|------|
| Mini-3SF 协议 | Fork Choice 学习时 | 完整规范 |
| XMSS 算法原理 | 签名验证学习时 | 密码学细节 |
| libp2p 协议栈 | 网络层学习时 | GossipSub/Req-Resp |
| Zig 高级特性 | 遇到复杂代码时 | comptime/allocator |

---

## ✅ 已完成

### Sprint 4: 基础认知 ✅

| 任务 | 笔记 | 完成日期 |
|------|------|----------|
| 两层架构（执行层 vs 共识层） | `notes/zeam/01_two_layer_architecture.md` | 2025-12-22 |
| SSZ：共识层数据语言 | `notes/zeam/02_ssz_deep_dive.md` | 2025-12-22 |
| 区块生命周期（概览） | `notes/zeam/03_block_lifecycle.md` | 2025-12-22 |
| 网络协议栈全景 | `notes/zeam/04_network_protocol_stack.md` | 2025-12-22 |
| Proposer 选择与出块 | `notes/zeam/05_proposer.md` | 2025-12-23 |
| Fork Choice (LMD-GHOST) | `notes/zeam/06_fork_choice.md` | 2025-12-23 |
| Attestation (投票机制) | `notes/zeam/07_attestation.md` | 2025-12-23 |
| Finality (最终性) | `notes/zeam/08_finality.md` | 2025-12-23 |
| 运行与监控（资源索引） | `notes/zeam/09_running_zeam.md` | 2025-12-25 |

**问题追踪**（待深入理解后可能转为 PR）：
- `notes/zeam/issues/11_node_identity.md` - 节点与验证者双层身份、annotated_validators.yaml 缺失问题

**暂存笔记**（待后续整合）：
- `notes/zeam/_02_pkgs_structure.md` - 模块架构
- `notes/zeam/_03_state_transition_core.md` - 状态转换细节

---

## 📜 历史归档 (History)

### 🟡 ZK 基础 (Paused)

> 状态：已完成核心概念学习，暂缓深入具体证明系统（如 Groth16, Halo2），优先转向工程实现。

*   [x] 01_PROBLEM_STATEMENT (零知识证明要解决什么问题)
*   [x] 02_SCHNORR_PROTOCOL (交互式证明基石)
*   [x] 03_FIAT_SHAMIR (非交互式转换)
*   [x] 04_ARITHMETIC_CIRCUIT (计算问题的代数化)
*   [x] 05_R1CS (一阶约束系统)
*   [x] 06_QAP (二次算术程序 - R1CS 到多项式)
*   [x] 07_PCS (多项式承诺方案 - KZG/IPA)

### ✅ RISC-V 架构 (Completed)

> 状态：已系统掌握 RV32I 及主要扩展指令集。

*   [x] RV32I 基础指令 (Branch, Jump, Load/Store, Shift)
*   [x] 汇编与 ABI (Stack layout, Calling convention)
*   [x] 扩展指令集 (M-乘除, A-原子, C-压缩, F/D-浮点, V-向量)
*   [x] 特权架构 (CSR, Traps)
*   [x] 编译与链接流程
