---
description: Re-read prompts and correct execution when AI violates rules
category: command
---

# Context Reinforcement

## 描述

当AI Agent在执行任务时违背了prompts体系规则或理解错了上下文，通过快速检阅相关文档、识别问题点、纠正执行方法，并重新正确执行任务。

## 适用场景

- AI Agent违反了 CLAUDE.md 中的准则
- AI Agent违反了 conduct/ 下的开发规范
- AI Agent理解错了业务逻辑（没有正确理解 `biz/` 下的文档）
- AI Agent理解错了技术方案（没有正确理解 `tech/{项目名}/` 下的文档）
- AI Agent的任务执行方法与项目要求不符
- 需要重新检阅上下文并纠正任务执行方法

### 常见错误类型

1. **使用了中文代码注释**
   - 违反规范：`conduct/CODE_COMMENTS.md` 和 CLAUDE.md 语言要求
   - 应检阅：代码注释必须使用英文

2. **手动编辑了依赖文件**
   - 违反规范：`conduct/DEPENDENCIES.md`
   - 应检阅：必须使用包管理工具（cargo/forge/pnpm）而不是手动编辑 Cargo.toml/package.json

3. **理解错了业务逻辑，使用了古早的设计**
   - 理解错误：没有阅读最新的 `biz/` 文档
   - 应检阅：文档只记录当前版本，确保使用的是最新设计而非过时方案

## 执行步骤

1. **快速检阅prompts体系**
   - 阅读 `CLAUDE.md` 确认最高准则
   - 根据当前任务类型，阅读 `prompts/conduct/` 下的相关规范文件
   - 如涉及业务逻辑，阅读 `prompts/biz/` 下的文档
   - 如涉及项目技术，阅读 `prompts/tech/{项目名}/` 下的文档

2. **识别问题点**
   - 如果是违规：明确指出违背了哪条具体规则（引用文件名和章节）
   - 如果是理解错误：明确指出理解错了什么上下文（业务逻辑/技术方案）
   - 说明当前的错误执行方法是什么

3. **确定正确方法**
   - 根据规范，说明应该使用的正确执行方法
   - 列出正确执行的具体步骤

4. **重新执行任务**
   - 按照正确方法重新执行原本的任务
   - 确保完全符合prompts体系规范

## 注意事项

- **重点是重新执行**：不是为了反省，而是为了纠正并完成任务
- **必须具体**：明确说出违背了哪条规则
- **立即纠正**：识别问题后立即用正确方法重新执行
